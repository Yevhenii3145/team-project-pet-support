"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[911],{682:function(e,a,n){n.d(a,{Z:function(){return S}});var r=n(9439),o={button__primary_not_main:"auth-form_button__primary_not_main__8P-fg",button__primary_main:"auth-form_button__primary_main__MnTkE",button__secondary:"auth-form_button__secondary__KPh8C",button__secondary_active:"auth-form_button__secondary_active__NYsjk",button__learn:"auth-form_button__learn__aF1Az",form__input_container:"auth-form_form__input_container__aA0wO",form__label:"auth-form_form__label__kvu1f",form__input:"auth-form_form__input__PCyqB",form__input_phone:"auth-form_form__input_phone__3+Prq",form__input_number:"auth-form_form__input_number__ad5x5",form__input__password_show:"auth-form_form__input__password_show__m0iHa",error__mesage:"auth-form_error__mesage__60rvQ",form__login__input:"auth-form_form__login__input__goTNO",coordination__box:"auth-form_coordination__box__IaRI-",coordination__box_input:"auth-form_coordination__box_input__45QT5",coordination__box_title:"auth-form_coordination__box_title__Ub9P3",coordination__box_link:"auth-form_coordination__box_link__4TUNL",form__button:"auth-form_form__button__-DMkC",form__back_button:"auth-form_form__back_button__g2+wq",form__description:"auth-form_form__description__SN4bk",description__nav:"auth-form_description__nav__UAxeo",loading__modal:"auth-form_loading__modal__j9v7f"},s=n(9434),i=n(4632),t=n(3220),_="google-nav_googleBox__pLbWW",c="google-nav_googleBox__title__fq7Z0",l="google-nav_linkBox__Z0cDd",m="google-nav_googleDecs__GGIZo",d="google-nav_googleLink__A-F5w",u=n(2600),h=n(3329),p="https://backend-team-project-pet-support.onrender.com",f=function(){var e=(0,s.v9)((function(e){return e.menu.menuActive})),a=(0,s.I0)();return(0,h.jsxs)("div",{className:_,children:[(0,h.jsx)("div",{className:c,children:(0,h.jsx)("p",{className:m,children:"Or sign in with"})}),(0,h.jsx)("div",{className:l,children:!0===e?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("a",{href:"".concat(p,"/api/auth/google"),className:d,onClick:function(){return a((0,u.M)(!e))},children:(0,h.jsx)(t.Z,{id:"icon-google"})}),(0,h.jsx)("a",{href:"".concat(p,"/api/auth/facebook"),className:d,onClick:function(){return a((0,u.M)(!e))},children:(0,h.jsx)(t.Z,{id:"facebook"})})]}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("a",{href:"".concat(p,"/api/auth/google"),className:d,children:(0,h.jsx)(t.Z,{id:"icon-google"})}),(0,h.jsx)("a",{href:"".concat(p,"/api/auth/facebook"),className:d,onClick:function(){return a((0,u.M)(!e))},children:(0,h.jsx)(t.Z,{id:"facebook"})})]})})]})},x=n(5705),b=n(6107),j=n(2797),g=n(2791),N=n(5264),v=n(1087),w=n(7689),y=n(9773),k=j.Ry().shape({email:j.Z_().email().min(10,"The minimum number of characters in the field is 10.").max(63,"The maximum number of characters in the field is 63."),password:j.Z_().required().min(7).max(32),passwordConfirm:j.Z_().required()});function Z(e){var a;return e?e.includes(" ")&&(a="Invalid password, must not include spaces"):a="Password is required",a}function C(e){var a;return e?/^((([0-9A-Za-z]{1}[-0-9A-z]{1,}[0-9A-Za-z]{1}))@([-0-9A-Za-z]{1,}\.){1,2}[-A-Za-z]{2,})$/i.test(e)||(a='The e-mail address is not correct, there must be at least 2 characters before the "@" symbol, the hyphen cannot be at the beginning, and the e-mail cannot contain Latin letters'):a="E-mail address required",a}var q=j.Ry().shape({name:j.Z_().required("Name is required!"),region:j.Z_().required("Region is required!"),number:j.Z_().matches(/[0-9]/,"Field must contain only numbers, format +380xxxxxxxxx!").required("Phone number is required!").min(9,"Cannot be less than nine characters!").max(9,"Cannot be more than nine characters!")}),B=j.Ry().shape({email:j.Z_().email().required().min(10).max(63),password:j.Z_().required().min(7).max(32)}),S=function(){var e=(0,g.useState)(!0),a=(0,r.Z)(e,2),n=a[0],_=a[1],c=(0,g.useState)(!1),l=(0,r.Z)(c,2),m=l[0],d=l[1],u=(0,g.useState)(!1),p=(0,r.Z)(u,2),j=p[0],S=p[1],F=(0,g.useState)(!1),P=(0,r.Z)(F,2),L=P[0],A=P[1],R=(0,g.useState)(""),O=(0,r.Z)(R,2),T=O[0],z=O[1],I=(0,g.useState)(""),M=(0,r.Z)(I,2),V=M[0],D=M[1],E=(0,w.TH)().pathname,G=function(e){switch(e.target.name){case"password":z(e.target.value);break;case"passwordConfirm":D(e.target.value);break;case"coordination":A(e.target.checked);break;default:return}},J=(0,s.v9)((function(e){return e.auth.loading})),U=(0,s.I0)(),W={email:"",password:"",passwordConfirm:"",name:"",region:"",number:""},H=function(e,a){if(n)return e.password!==e.passwordConfirm?N.Notify.failure("Your passwords must have the same value!",{timeout:6e3}):_(!1);if(!n){if(!y.find((function(a){return"".concat(a.city,", ").concat(a.admin_name)===e.region})))return console.log("not"),N.Notify.failure("Please select a region from the list!",{timeout:6e3});var r={email:e.email,password:e.password,name:e.name,city:e.region,phone:"380".concat(e.number)};return a.resetForm(),_(!0),console.log(r),U(i.ZP.registerNewUser(r))}},Q=function(){return d(!m)};return(0,h.jsxs)(h.Fragment,{children:[J&&(0,h.jsx)(b.Z,{}),"/register"===E&&(0,h.jsxs)(h.Fragment,{children:[n?(0,h.jsx)(x.J9,{validationSchema:k,initialValues:W,onSubmit:H,children:(0,h.jsxs)(x.l0,{className:o.form__container,autoComplete:"off",onChange:G,children:[(0,h.jsxs)("div",{className:o.form__input_container,children:[(0,h.jsx)(x.gN,{className:o.form__input,type:"email",name:"email",validate:C,placeholder:" "}),(0,h.jsx)("label",{className:o.form__label,children:"Email"}),(0,h.jsx)(x.Bc,{name:"email",render:function(e){return(0,h.jsx)("p",{className:o.error__mesage,children:e})}})]}),(0,h.jsxs)("div",{className:o.form__input_container,children:[(0,h.jsx)(x.gN,{className:o.form__input,type:m?"text":"password",name:"password",validate:Z,placeholder:" "}),(0,h.jsx)("label",{className:o.form__label,children:"Password"}),T.length>=1&&(0,h.jsx)("span",{className:o.form__input__password_show,onClick:Q,children:m?(0,h.jsx)(t.Z,{id:"eye-blocked"}):(0,h.jsx)(t.Z,{id:"eye"})}),(0,h.jsx)(x.Bc,{name:"password",render:function(e){return(0,h.jsx)("p",{className:o.error__mesage,children:e})}})]}),(0,h.jsxs)("div",{className:o.form__input_container,children:[(0,h.jsx)(x.gN,{className:o.form__input,type:j?"text":"password",name:"passwordConfirm",placeholder:" ",validate:Z}),(0,h.jsx)("label",{className:o.form__label,children:"Confirm Password"}),V.length>=1&&(0,h.jsx)("span",{className:o.form__input__password_show,onClick:function(){return S(!j)},children:j?(0,h.jsx)(t.Z,{id:"eye-blocked"}):(0,h.jsx)(t.Z,{id:"eye"})}),(0,h.jsx)(x.Bc,{name:"passwordConfirm",render:function(e){return(0,h.jsx)("p",{className:o.error__mesage,children:e})}})]}),(0,h.jsxs)("div",{className:o.coordination__box,children:[(0,h.jsx)(x.gN,{className:o.coordination__box_input,type:"checkbox",name:"coordination"}),(0,h.jsxs)("label",{className:o.coordination__box_title,children:["\u041f\u043e\u0433\u043e\u0434\u0436\u0443\u044e\u0441\u044c \u0437 ",(0,h.jsx)("a",{href:"https://www.google.com.ua/",className:o.coordination__box_link,target:"_blank",rel:"noopener noreferrer",children:"\u043f\u0440\u0430\u0432\u0438\u043b\u0430\u043c\u0438 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u043d\u043d\u044f \u0441\u0430\u0439\u0442\u0443"})]})]}),(0,h.jsx)("button",{className:"".concat(o.button__primary_main," ").concat(o.form__button),type:"submit",disabled:!L,children:"Next"}),(0,h.jsx)(f,{})]})}):(0,h.jsx)(x.J9,{validationSchema:q,initialValues:W,onSubmit:H,autoComplete:"off",children:(0,h.jsxs)(x.l0,{className:o.form__container,children:[(0,h.jsxs)("div",{className:o.form__input_container,children:[(0,h.jsx)(x.gN,{className:o.form__input,type:"text",name:"name",placeholder:" ",required:!0}),(0,h.jsx)("label",{className:o.form__label,children:"Name"}),(0,h.jsx)(x.Bc,{name:"name",render:function(e){return(0,h.jsx)("p",{className:o.error__mesage,children:e})}})]}),(0,h.jsxs)("div",{className:o.form__input_container,children:[(0,h.jsx)(x.gN,{className:o.form__input,name:"region",list:"region",type:"text",placeholder:" "}),(0,h.jsx)("datalist",{id:"region",children:y.map((function(e){return(0,h.jsxs)("option",{children:[e.city,", ",e.admin_name]},"".concat(e.city,".").concat(e.lat))}))}),(0,h.jsx)("label",{className:o.form__label,children:"City, region"}),(0,h.jsx)(x.Bc,{name:"region",render:function(e){return(0,h.jsx)("p",{className:o.error__mesage,children:e})}})]}),(0,h.jsxs)("div",{className:o.form__input_container,children:[(0,h.jsx)(x.gN,{className:"".concat(o.form__input," ").concat(o.form__input_phone),type:"tel",name:"number",placeholder:" "}),(0,h.jsxs)("span",{className:o.form__input_number,children:[(0,h.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"20",children:[(0,h.jsx)("rect",{width:"25",height:"10",fill:"#005BBB"}),(0,h.jsx)("rect",{width:"25",height:"10",y:"10",fill:"#FFD500"})]}),(0,h.jsx)("p",{children:"+380"})]}),(0,h.jsx)("label",{className:o.form__label,children:"Mobile phone"}),(0,h.jsx)(x.Bc,{name:"number",render:function(e){return(0,h.jsx)("p",{className:o.error__mesage,children:e})}})]}),(0,h.jsx)("span",{className:"".concat(o.button__primary_not_main," ").concat(o.form__back_button),onClick:function(){if(!n)return _(!0)},children:"\u140a Go back"}),(0,h.jsx)("button",{className:"".concat(o.button__primary_main," ").concat(o.form__button),type:"submit",children:"Register"}),(0,h.jsx)(f,{})]})}),(0,h.jsxs)("p",{className:o.form__description,children:["Already have an account?"," ",(0,h.jsx)(v.OL,{className:o.description__nav,to:"/login",children:"Login"})]})]}),"/login"===E&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(x.J9,{validationSchema:B,initialValues:W,onSubmit:function(e,a){var n,r={email:e.email,password:e.password};return a.resetForm(),n=r,void U(i.ZP.login(n))},children:(0,h.jsxs)(x.l0,{className:o.form__container,autoComplete:"off",onChange:G,children:[(0,h.jsxs)("div",{className:o.form__input_container,children:[(0,h.jsx)(x.gN,{className:o.form__input,type:"email",name:"email",placeholder:" "}),(0,h.jsx)("label",{className:o.form__label,children:"Email"}),(0,h.jsx)(x.Bc,{name:"email",render:function(e){return(0,h.jsx)("p",{className:o.error__mesage,children:e})}})]}),(0,h.jsxs)("div",{className:o.form__input_container,children:[(0,h.jsx)(x.gN,{className:"".concat(o.form__input," ").concat(o.form__login__input),type:m?"text":"password",name:"password",placeholder:" ",validate:Z}),(0,h.jsx)("label",{className:o.form__label,children:"Password"}),T.length>=1&&(0,h.jsx)("span",{className:o.form__input__password_show,onClick:Q,children:m?(0,h.jsx)(t.Z,{id:"eye-blocked"}):(0,h.jsx)(t.Z,{id:"eye"})}),(0,h.jsx)(x.Bc,{name:"password",render:function(e){return(0,h.jsx)("p",{className:o.error__mesage,children:e})}})]}),(0,h.jsx)("button",{className:"".concat(o.button__primary_main," ").concat(o.form__button),type:"submit",children:"Login"}),(0,h.jsxs)("p",{className:o.form__description,children:["Resend verification email? Click"," ",(0,h.jsx)(v.OL,{to:"/verify",className:o.description__nav,children:"here"})]}),(0,h.jsx)(f,{})]})}),(0,h.jsxs)("p",{className:o.form__description,children:["Don't have an account?"," ",(0,h.jsx)(v.OL,{to:"/register",className:o.description__nav,children:"Register"})]})]}),"/verify"===E&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(x.J9,{validationSchema:B,initialValues:W,onSubmit:function(e,a){var n={email:e.email,password:e.password};return a.resetForm(),U(i.ZP.authVerify(n))},children:(0,h.jsxs)(x.l0,{className:o.form__container,autoComplete:"off",onChange:G,children:[(0,h.jsxs)("div",{className:o.form__input_container,children:[(0,h.jsx)(x.gN,{className:o.form__input,type:"email",name:"email",placeholder:" "}),(0,h.jsx)("label",{className:o.form__label,children:"Email"}),(0,h.jsx)(x.Bc,{name:"email",render:function(e){return(0,h.jsx)("p",{className:o.error__mesage,children:e})}})]}),(0,h.jsxs)("div",{className:o.form__input_container,children:[(0,h.jsx)(x.gN,{className:"".concat(o.form__input," ").concat(o.form__login__input),type:"password",name:"password",placeholder:" ",validate:Z}),(0,h.jsx)("label",{className:o.form__label,children:"Password"}),T.length>=1&&(0,h.jsx)("span",{className:o.form__input__password_show,onClick:Q,children:m?(0,h.jsx)(t.Z,{id:"eye-blocked"}):(0,h.jsx)(t.Z,{id:"eye"})}),(0,h.jsx)(x.Bc,{name:"password",render:function(e){return(0,h.jsx)("p",{className:o.error__mesage,children:e})}})]}),(0,h.jsx)("button",{className:"".concat(o.button__primary_main," ").concat(o.form__button),type:"submit",children:"Verify"})]})}),(0,h.jsxs)("p",{className:o.form__description,children:["Go to back?"," ",(0,h.jsx)(v.OL,{to:"/login",className:o.description__nav,children:"Login"})]})]})]})}},3204:function(e,a,n){n.d(a,{$:function(){return h}});var r=n(1413),o=n(4925),s=n(2554),i=n(7872),t=n(9219),_=n(9477),c=n(5881),l=n(6992),m=n(3329),d=["label","thickness","speed","emptyColor","className"],u=(0,s.F4)({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),h=(0,i.G)((function(e,a){var n=(0,t.mq)("Spinner",e),s=(0,_.Lr)(e),i=s.label,h=void 0===i?"Loading...":i,p=s.thickness,f=void 0===p?"2px":p,x=s.speed,b=void 0===x?"0.45s":x,j=s.emptyColor,g=void 0===j?"transparent":j,N=s.className,v=(0,o.Z)(s,d),w=(0,l.cx)("chakra-spinner",N),y=(0,r.Z)({display:"inline-block",borderColor:"currentColor",borderStyle:"solid",borderRadius:"99999px",borderWidth:f,borderBottomColor:g,borderLeftColor:g,animation:"".concat(u," ").concat(b," linear infinite")},n);return(0,m.jsx)(c.m.div,(0,r.Z)((0,r.Z)({ref:a,__css:y,className:w},v),{},{children:h&&(0,m.jsx)(c.m.span,{srOnly:!0,children:h})}))}));h.displayName="Spinner"}}]);
//# sourceMappingURL=911.70881d50.chunk.js.map