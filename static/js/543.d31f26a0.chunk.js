"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[543],{4480:function(e,t,n){n.r(t),n.d(t,{default:function(){return re}});var o=n(9439),i=n(7689),c=n(9434),a="notices-category-list_card_list__4IPGY",_=n(5861),s=n(4687),l=n.n(s),r=n(2791),m=n(1087),d=n(4851),u=n(5264),f=n(1328),h="notice-category-item_card_item__uexVC",x="notice-category-item_card_img__58IEw",p="notice-category-item_card_info__AzLhT",j="notice-category-item_card_info_title__LWqOq",y="notice-category-item_card_info_list__2gR+T",N="notice-category-item_card_info_item__QoL9B",v="notice-category-item_card_info_item_text__MNBZM",b="notice-category-item_card_info_item_link__D6AhA",g="notice-category-item_add_to_favorite_btn__T0Qwy",w="notice-category-item_add_to_favorite_btn_active__INR4C",k="notice-category-item_box_btn__x86Ci",C="notice-category-item_learn_more_btn__dO2pq",L="notice-category-item_delete_btn__P2w14",P="notice-category-item_card_text__sHq7p",z=n(3220),Z=n(6132),E=n(1212),D="modal_modal__bONGM",O="modal_modal__section__Fz897",B=n(4164),I=n(3329),A=document.querySelector("#modal-root"),F=function(e){var t=e.onClose,n=e.children;(0,r.useEffect)((function(){var e=function(e){"Escape"===e.code&&t()};return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}}),[t]);return(0,B.createPortal)((0,I.jsx)("div",{className:D,onClick:function(e){e.currentTarget===e.target&&t()},children:(0,I.jsx)("div",{className:O,children:n})}),A)},S={button__primary_not_main:"modal-notice_button__primary_not_main__pcm6D",button__primary_main:"modal-notice_button__primary_main__h9uiK",button__secondary:"modal-notice_button__secondary__F3afp",button__secondary_active:"modal-notice_button__secondary_active__0fwvg",button__learn:"modal-notice_button__learn__lQ06I",modal_notice__button_favorite:"modal-notice_modal_notice__button_favorite__cdzVY",modal_notice__content:"modal-notice_modal_notice__content__kkOz+",modal_notice__close:"modal-notice_modal_notice__close__+4iyR",modal_notice__image_content:"modal-notice_modal_notice__image_content__4Plvt",modal_notice__image:"modal-notice_modal_notice__image__PT9wD",modal_notice__category:"modal-notice_modal_notice__category__G+poE",modal_notice__title:"modal-notice_modal_notice__title__YzmOb",modal_notice__list:"modal-notice_modal_notice__list__ndXYX",modal_notice__item:"modal-notice_modal_notice__item__oieYh",modal_notice__item_title:"modal-notice_modal_notice__item_title__8hbiX",modal_notice__item_description:"modal-notice_modal_notice__item_description__FOGaP",modal_notice__item_description_link:"modal-notice_modal_notice__item_description_link__7ZLaz",modal_notice__item_comment:"modal-notice_modal_notice__item_comment__Dj+qE",modal_notice__button_container:"modal-notice_modal_notice__button_container__wHtlH",modal_notice__button:"modal-notice_modal_notice__button__zP4Dy",modal_notice__content_info:"modal-notice_modal_notice__content_info__8IKqs"},T=n(9313),R=function(e){var t=e.onClose,n=e.onAddDelete,o=e.categoryNotice,i=e.favorite,a=e.deleteNotice,_=e.info,s=(0,c.v9)((function(e){return e.auth.user.userId})),l=(0,E.Z)(),r=(0,c.I0)(),d=_._id,u=_.image,f=_.title,h=_.breed,x=_.location,p=_.birthday,j=_.price,y=_.category,N=_.owner,v=_.comments,b=_.name,g=_.sex;return(0,I.jsx)(I.Fragment,{children:(0,I.jsxs)("div",{className:S.modal_notice__content,children:[(0,I.jsxs)("div",{className:S.modal_notice__content_info,children:[(0,I.jsx)("div",{className:S.modal_notice__close,onClick:t,children:(0,I.jsx)(z.Z,{id:"icon-close"})}),(0,I.jsxs)("div",{className:S.modal_notice__image_content,children:[(0,I.jsx)("img",{className:S.modal_notice__image,src:u,alt:b}),(0,I.jsx)("span",{className:S.modal_notice__category,children:o(y)})]}),(0,I.jsxs)("div",{children:[(0,I.jsx)("h3",{className:S.modal_notice__title,children:f}),(0,I.jsxs)("ul",{className:S.modal_notice__list,children:[(0,I.jsxs)("li",{className:S.modal_notice__item,children:[(0,I.jsx)("h4",{className:S.modal_notice__item_title,children:"Name:"}),(0,I.jsx)("p",{className:S.modal_notice__item_description,children:b})]}),(0,I.jsxs)("li",{className:S.modal_notice__item,children:[(0,I.jsx)("h4",{className:S.modal_notice__item_title,children:"Birthday:"}),(0,I.jsx)("p",{className:S.modal_notice__item_description,children:function(e){var t=new Date(e);return"".concat(t.getMonth()+1<10?"0".concat(t.getMonth()+1):t.getMonth()+1,".").concat(t.getDate()<10?"0".concat(t.getDate()):t.getDate(),".").concat(t.getFullYear())}(p)})]}),(0,I.jsxs)("li",{className:S.modal_notice__item,children:[(0,I.jsx)("h4",{className:S.modal_notice__item_title,children:"Breed:"}),(0,I.jsx)("p",{className:S.modal_notice__item_description,children:h})]}),(0,I.jsxs)("li",{className:S.modal_notice__item,children:[(0,I.jsx)("h4",{className:S.modal_notice__item_title,children:"Location:"}),(0,I.jsx)("p",{className:S.modal_notice__item_description,children:x})]}),(0,I.jsxs)("li",{className:S.modal_notice__item,children:[(0,I.jsx)("h4",{className:S.modal_notice__item_title,children:"The sex:"}),(0,I.jsx)("p",{className:S.modal_notice__item_description,children:g})]}),(0,I.jsxs)("li",{className:S.modal_notice__item,children:[(0,I.jsx)("h4",{className:S.modal_notice__item_title,children:"Email:"}),(0,I.jsx)("a",{href:"mailto:".concat(N.email),className:"".concat(S.modal_notice__item_description," ").concat(S.modal_notice__item_description_link),type:"button",children:N.email})]}),(0,I.jsxs)("li",{className:S.modal_notice__item,children:[(0,I.jsx)("h4",{className:S.modal_notice__item_title,children:"Phone:"}),(0,I.jsx)("a",{href:"tel:+".concat(N.phone),className:"".concat(S.modal_notice__item_description," ").concat(S.modal_notice__item_description_link),type:"button",children:"+".concat(N.phone)})]}),"sell"===y&&(0,I.jsxs)("li",{className:S.modal_notice__item,children:[(0,I.jsx)("h4",{className:S.modal_notice__item_title,children:"Price:"}),(0,I.jsx)("p",{className:S.modal_notice__item_description,children:j})]}),(0,I.jsxs)("li",{className:S.modal_notice__item,children:[(0,I.jsx)("h4",{className:S.modal_notice__item_title,children:"Owner:"}),(0,I.jsxs)(m.rU,{to:N._id===s?"/user":"/user/".concat(N._id),onClick:function(){N._id!==s?(document.body.style.overflow="visible",r((0,T.B)(N._id),(0,T.H)(N._id))):document.body.style.overflow="visible"},className:"".concat(S.modal_notice__item_description," ").concat(S.modal_notice__item_description_link),children:[N.name," \u2199"]})]})]})]})]}),(0,I.jsxs)("article",{className:S.modal_notice__item_comment,children:[(0,I.jsx)("span",{className:S.modal_notice__item_title,children:"Comments:"}),v]}),(0,I.jsxs)("div",{className:S.modal_notice__button_container,children:[(0,I.jsx)("a",{href:"tel:+".concat(N.phone),className:"".concat(S.button__primary_main," ").concat(S.modal_notice__button," ").concat(S.modal_notice__button_contact),type:"button",children:"Contact"}),(0,I.jsxs)("button",{onClick:function(){n(d)},className:"".concat(S.button__primary_not_main," ").concat(S.modal_notice__button),type:"button",children:[i?"Remove":"Add to",(0,I.jsx)(z.Z,{className:S.modal_notice__button_favorite,id:"icon-heart-favorite"})]}),l&&s===N._id&&(0,I.jsxs)("button",{type:"button",className:"".concat(S.button__primary_not_main," ").concat(S.modal_notice__button),onClick:function(){return a(N._id)},children:["Delete",(0,I.jsx)(z.Z,{id:"icon-delete-notice"})]})]})]})})},Y=function(e){var t=e.pet,n=e.value,i=t._id,a=t.image,s=t.title,D=t.breed,O=t.location,B=t.birthday,A=t.price,S=t.category,Y=t.owner,q=(0,r.useState)(!1),M=(0,o.Z)(q,2),H=M[0],Q=M[1],W=(0,c.I0)(),G=(0,E.Z)(),U=(0,c.v9)((function(e){return e.auth.user.userId})),V=(0,c.v9)((function(e){return e.notices.favoriteNotices})),X=(0,c.v9)((function(e){return e.filter})),K=(0,r.useState)(!1),J=(0,o.Z)(K,2),$=J[0],ee=J[1];(0,r.useEffect)((function(){V.length>0&&V.map((function(e){return e._id===i&&ee(!0)}))}),[V,W,i]);var te=function(){var e=(0,_.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(G){e.next=5;break}return u.Notify.failure("You need authorization",{distance:"100px",opacity:"0.8",useIcon:!1,fontSize:"18px",borderRadius:"20px",showOnlyTheLastOne:!0}),e.abrupt("return");case 5:if($){e.next=12;break}if(null!==X){e.next=10;break}return W((0,Z.x8)(t)),ee(!0),e.abrupt("return");case 10:e.next=17;break;case 12:if(!$){e.next=17;break}return e.next=15,W((0,Z.QR)(t));case 15:ee(!1),W((0,Z.wz)(n));case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function ne(){Q(!1),document.body.style.overflow="visible"}var oe=function(e){f.Confirm.show("","Are you sure you want to delete notis?","Yes","No",(function(){W((0,Z.Zt)(e))}),(function(){}),{messageFontSize:"20px",borderRadius:"8px",cssAnimationStyle:"zoom",okButtonColor:"#ffffff",okButtonBackground:"#eebb9c",cancelButtonColor:"#ffffff",cancelButtonBackground:"#F59256"})},ie=(0,d.Z)(new Date,new Date(B)),ce=function(e){return"for-free"===e&&(e="in good hands"),"lost-found"===e&&(e="lost/found"),e};return(0,I.jsxs)(I.Fragment,{children:[H&&(0,I.jsx)(I.Fragment,{children:(0,I.jsx)(F,{onClose:ne,children:(0,I.jsx)(R,{onClose:ne,onAddDelete:te,categoryNotice:ce,favorite:$,deleteNotice:oe,info:t})})}),(0,I.jsxs)("li",{className:h,children:[(0,I.jsx)("img",{src:a,alt:"pet",className:x}),(0,I.jsxs)("div",{className:p,children:[(0,I.jsx)("h3",{className:j,children:s}),(0,I.jsxs)("ul",{className:y,children:[(0,I.jsxs)("li",{className:N,children:[(0,I.jsx)("p",{className:v,children:"Breed:"}),(0,I.jsx)("p",{children:D||"no information"})]}),(0,I.jsxs)("li",{className:N,children:[(0,I.jsx)("p",{className:v,children:"Place:"}),(0,I.jsx)("p",{children:O.split(", ")[0]})]}),(0,I.jsxs)("li",{className:N,children:[(0,I.jsx)("p",{className:v,children:"Age:"}),(0,I.jsx)("p",{children:ie})]}),"sell"===S&&(0,I.jsxs)("li",{className:N,children:[(0,I.jsx)("p",{className:v,children:"Price:"}),(0,I.jsx)("p",{children:A})]}),(0,I.jsxs)("li",{className:N,children:[(0,I.jsx)("p",{className:v,children:"Owner:"}),(0,I.jsxs)(m.rU,{to:Y._id===U?"/user":"/user/".concat(Y._id),onClick:function(){Y._id!==U&&W((0,T.B)(Y._id),(0,T.H)(Y._id))},className:b,"data-action":"owner",children:[Y.name," \u2199"]})]})]}),(0,I.jsxs)("div",{className:k,children:[(0,I.jsx)("button",{type:"button",className:C,onClick:function(){document.body.style.overflow="hidden",Q(!0)},children:"Learn more"}),G&&U===Y._id&&(0,I.jsxs)("button",{type:"button",className:L,onClick:function(){return oe(i)},children:["Delete",(0,I.jsx)(z.Z,{id:"icon-delete-notice"})]}),(0,I.jsx)("button",{onClick:function(){return te(i)},type:"button",className:$?"".concat(g," ").concat(w):g,children:(0,I.jsx)(z.Z,{id:"icon-heart"})})]}),(0,I.jsx)("p",{className:P,children:ce(S)})]})]})]})},q=function(e){var t=e.pets,n=e.data;return(0,I.jsx)("ul",{className:a,children:t.map((function(e){return(0,I.jsx)(Y,{pet:e,value:n},e._id)}))})},M=function(e){var t=e.notices;return{loading:t.loading,error:t.error}},H=function(e){return e.notices.items},Q=function(e){return e.notices.totalNotices},W=n(9038),G=n(6107);var U=n.p+"static/media/cat_for_empty_favorite_list.56f5c52ca27d63a15669c79edd286ff5.svg",V="empty-favorite-list_emptyPetsList_wrap__lhB6y",X="empty-favorite-list_emptyPetsList_box__XHrTU",K="empty-favorite-list_emptyPetsList_img__c6kJ7",J="empty-favorite-list_emptyPetsList_text__l4DBR";function $(){return(0,I.jsx)("div",{className:V,children:(0,I.jsxs)("div",{className:X,children:[(0,I.jsx)("img",{className:K,src:U,alt:"cat"}),(0,I.jsxs)("p",{className:J,children:["Add your favorite animals ",(0,I.jsx)("br",{})," so as not to lose"]})]})})}var ee=n(8277),te="empty-own-list_emptyPetsList_wrap__22VQV",ne="empty-own-list_emptyPetsList_box__SnSAh",oe="empty-own-list_emptyPetsList_img__vjtFC",ie="empty-own-list_emptyPetsList_text__rc19C";function ce(){return(0,I.jsx)("div",{className:te,children:(0,I.jsxs)("div",{className:ne,children:[(0,I.jsx)("img",{className:oe,src:ee.Z,alt:"cat"}),(0,I.jsxs)("p",{className:ie,children:["You haven`t added any ",(0,I.jsx)("br",{})," animals to your list yet"]})]})})}var ae="load-more_buttonLoad__5ocen",_e=n(5667),se=function(e){var t=e.scroll,n=e.changePage;return(0,I.jsxs)("div",{onClick:function(){return t()},children:[(0,I.jsx)("button",{type:"button",className:ae,onClick:function(){return n((function(e){return e+1}))},children:"Load more..."}),(0,I.jsx)(_e.W_,{className:"element",name:"scroll-to-element"})]})},le=n(1081),re=function(){var e=(0,c.I0)(),t=(0,i.UO)().categoryName,n=(0,c.v9)(H),a=(0,c.v9)(W.z),_=(0,c.v9)(Q),s=(0,c.v9)(M),l=s.loading,m=s.error,d=(0,E.Z)(),f=(0,r.useState)(1),h=(0,o.Z)(f,2),x=h[0],p=h[1],j=(0,r.useState)("sell"),y=(0,o.Z)(j,2),N=y[0],v=y[1],b=(0,r.useMemo)((function(){return{categoryName:(N===t||(v(t),p(1)),N),page:x,limit:8}}),[t,x,8,N]);(0,r.useEffect)((function(){e((0,le.x)([t,x]))}),[t,x,e]),(0,r.useEffect)((function(){_e.zW.scrollEvent.register("begin",(function(){console.log("begin",arguments)})),_e.zW.scrollEvent.register("end",(function(){console.log("end",arguments)}))}),[]),(0,r.useEffect)((function(){return function(){_e.zW.scrollEvent.remove("begin"),_e.zW.scrollEvent.remove("end")}})),(0,r.useEffect)((function(){d&&e((0,Z.EE)()),e((0,Z.wz)(b))}),[e,d,b]);return(0,I.jsxs)(I.Fragment,{children:[l&&(0,I.jsx)(G.Z,{}),"own"===t&&0===n.length&&(0,I.jsx)(ce,{}),"favorite"===t&&0===n.length&&(0,I.jsx)($,{}),n.length>0&&(0,I.jsx)(q,{pets:function(){if(!a)return n;var e=a.toLocaleLowerCase();return n.filter((function(t){return t.title.toLocaleLowerCase().includes(e)}))}(),data:b}),_/8>x?(0,I.jsx)(se,{scroll:function(){_e.OK.scrollTo("scroll-to-element",{duration:2e3,delay:100,smooth:"easeInOutQuint",offset:-150})},changePage:p}):null,m&&u.Notify.failure("Oops, something went wrong",{distance:"100px",opacity:"0.8",useIcon:!1,fontSize:"18px",borderRadius:"20px",showOnlyTheLastOne:!0})]})}},9038:function(e,t,n){n.d(t,{z:function(){return o}});var o=function(e){return e.filter}},1212:function(e,t,n){var o=n(9434),i=n(6628);t.Z=function(){return(0,o.v9)(i.bg)}}}]);
//# sourceMappingURL=543.d31f26a0.chunk.js.map