"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[855],{1086:function(e,t,a){a.d(t,{X:function(){return c}});var n=a(8277),s="empty-pets-list_emptyPetsList_box__olodG",o="empty-pets-list_emptyPetsList_img__7Y3IF",i="empty-pets-list_emptyPetsList_text__wlcVE",r=a(3329);function c(e){var t=e.text;return(0,r.jsxs)("div",{className:s,children:[(0,r.jsx)("img",{className:o,src:n.Z,alt:"cat"}),(0,r.jsx)("p",{className:i,children:t})]})}},6107:function(e,t,a){a.d(t,{Z:function(){return i}});var n="loader_loading__modal__8AohZ",s=a(8966),o=a(3329),i=function(){return(0,o.jsx)("div",{className:n,children:(0,o.jsx)(s.ne,{height:"100",width:"100",color:"#F59256",ariaLabel:"hearts-loading",wrapperStyle:{},wrapperClass:"",visible:!0})})}},3855:function(e,t,a){a.r(t),a.d(t,{default:function(){return le}});var n=a(2791),s=a(9439),o=a(5830),i=a(3220),r=a(9434),c=a(4632),l=a(3263),d=a(5264),u=(a(7621),a(9557)),m=a(8966),_=a(1087),p=a(3329),x="https://backend-team-project-pet-support.onrender.com";function h(){var e=(0,r.I0)(),t=(0,r.v9)((function(e){return e.auth.user})),a=(0,r.v9)((function(e){return e.auth.token})),l=(0,n.useState)(""),h=(0,s.Z)(l,2),f=h[0],b=h[1],v=(0,n.useState)(""),g=(0,s.Z)(v,2),j=g[0],y=g[1],Z=(0,n.useState)(""),N=(0,s.Z)(Z,2),D=N[0],w=N[1],F=(0,n.useState)(""),k=(0,s.Z)(F,2),C=k[0],S=k[1],P=(0,n.useState)(""),L=(0,s.Z)(P,2),T=L[0],I=L[1],E=(0,n.useState)(""),A=(0,s.Z)(E,2),R=A[0],z=A[1],O=new Date,M=(0,_.lr)(),B=(0,s.Z)(M,1)[0].get("token"),U=B||a,q=function(e){var t=new Date(e);return"".concat(t.getMonth()+1<10?"0".concat(t.getMonth()+1):t.getMonth()+1,".").concat(t.getDate()<10?"0".concat(t.getDate()):t.getDate(),".").concat(t.getFullYear())};(0,n.useEffect)((function(){b(!0),void 0===U?(y(t.name),w(t.email),S(void 0!==t.birthday?q(t.birthday):"00.00.0000"),I(t.phone),z(t.city),b(!1)):fetch("".concat(x,"/api/users/current"),{method:"GET",headers:{Authorization:"Bearer ".concat(U)}}).then((function(e){return e.json()})).then((function(e){y(e.name),w(e.email),S(void 0!==e.birthday?q(e.birthday):"00.00.0000"),I(e.phone),z(e.city),b(!1)})).catch((function(e){console.log(e),b(!1)}))}),[t,U]);var Y=function(e){switch(e.currentTarget.name){case"name":y(e.currentTarget.value);break;case"email":w(e.currentTarget.value);break;case"phone":I(e.currentTarget.value);break;case"city":z(e.currentTarget.value);break;default:return}},V=(0,n.useState)(""),G=(0,s.Z)(V,2),W=G[0],H=G[1],X=function(e){if(W===e)return H("");H(e)},K=function(e){return W===e?(0,p.jsx)(i.Z,{id:"icon-done"}):(0,p.jsx)(i.Z,{id:"icon-edit-active"})};return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)("div",{className:o.Z.userDataForm_box,children:f?(0,p.jsx)(p.Fragment,{children:(0,p.jsx)("div",{className:o.Z.loader__content,children:(0,p.jsx)("div",{className:o.Z.loader_oval,children:(0,p.jsx)(m.iT,{height:60,width:60,color:"#F59256",wrapperStyle:{},wrapperClass:"",visible:!0,ariaLabel:"oval-loading",secondaryColor:"#F59256",strokeWidth:2,strokeWidthSecondary:2})})})}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("form",{onSubmit:function(t){t.preventDefault();var a=t.currentTarget.elements.name;if(a.disabled)return a.value?e(c.ZP.updateUser({name:a.value})):d.Notify.failure("Required!",{timeout:5e3,distance:"100px",opacity:"0.8",useIcon:!1,fontSize:"18px",borderRadius:"20px",showOnlyTheLastOne:!0})},children:(0,p.jsxs)("div",{className:o.Z.field_box,children:[(0,p.jsx)("label",{className:o.Z.userDataForm_label,children:"Name:"}),W&&"name"===W?(0,p.jsx)("input",{onChange:Y,type:"name",name:"name",value:j,className:o.Z.userDataForm_field_active}):(0,p.jsx)("input",{onChange:Y,type:"name",name:"name",value:j,disabled:!0,className:o.Z.userDataForm_field}),(0,p.jsx)("button",{className:o.Z.iconEdit_btn,onClick:function(){return X("name")},type:"submit",children:W?K("name"):(0,p.jsx)(i.Z,{id:"icon-edit"})})]})}),(0,p.jsx)("form",{onSubmit:function(t){t.preventDefault();var a=t.currentTarget.elements.email;if(a.disabled)return a.value?/^((([0-9A-Za-z]{1}[-0-9A-z]{1,}[0-9A-Za-z]{1}))@([-0-9A-Za-z]{1,}\.){1,2}[-A-Za-z]{2,})$/i.test(a.value)&&a.value.length<36?e(c.ZP.updateUser({email:a.value})):d.Notify.failure("Invalid email address!",{timeout:5e3,distance:"100px",opacity:"0.8",useIcon:!1,fontSize:"18px",borderRadius:"20px",showOnlyTheLastOne:!0}):d.Notify.failure("Required!",{timeout:5e3,distance:"100px",opacity:"0.8",useIcon:!1,fontSize:"18px",borderRadius:"20px",showOnlyTheLastOne:!0})},children:(0,p.jsxs)("div",{className:o.Z.field_box,children:[(0,p.jsx)("label",{className:o.Z.userDataForm_label,children:"Email:"}),W&&"email"===W?(0,p.jsx)("input",{onChange:Y,type:"email",name:"email",value:D,className:o.Z.userDataForm_field_active}):(0,p.jsx)("input",{onChange:Y,type:"email",name:"email",value:D,disabled:!0,className:o.Z.userDataForm_field}),(0,p.jsx)("button",{className:o.Z.iconEdit_btn,onClick:function(){return X("email")},children:W?K("email"):(0,p.jsx)(i.Z,{id:"icon-edit"})})]})}),(0,p.jsx)("form",{onSubmit:function(t){t.preventDefault();var a=t.currentTarget.elements.birthday;if(a.disabled)return a.value?e(c.ZP.updateUser({birthday:a.value})):d.Notify.failure("Required!",{timeout:5e3,distance:"100px",opacity:"0.8",useIcon:!1,fontSize:"18px",borderRadius:"20px",showOnlyTheLastOne:!0})},children:(0,p.jsxs)("div",{className:o.Z.field_box,children:[(0,p.jsx)("label",{className:o.Z.userDataForm_label,children:"Birthday:"}),W&&"birthday"===W?(0,p.jsx)(u.Z,{options:{dateFormat:"m.d.Y",maxDate:"".concat(q(O))},onChange:function(e){var t=(0,s.Z)(e,1)[0];S(q(t))},type:"text",name:"birthday",value:C,className:o.Z.userDataForm_field_active}):(0,p.jsx)(u.Z,{options:{dateFormat:"m.d.Y",maxDate:"".concat(q(O))},onChange:function(e){var t=(0,s.Z)(e,1)[0];S(q(t))},type:"text",name:"birthday",value:C,disabled:!0,className:o.Z.userDataForm_field}),(0,p.jsx)("button",{className:o.Z.iconEdit_btn,onClick:function(){return X("birthday")},children:W?K("birthday"):(0,p.jsx)(i.Z,{id:"icon-edit"})})]})}),(0,p.jsx)("form",{onSubmit:function(t){t.preventDefault();var a=t.currentTarget.elements.phone;if(a.disabled)return a.value?12!==a.value.length?d.Notify.failure("Is not correct format, must 380xxxxxxxxx!",{timeout:5e3,distance:"100px",opacity:"0.8",useIcon:!1,fontSize:"18px",borderRadius:"20px",showOnlyTheLastOne:!0}):/^3?[\s]?8?[\s]?\(?0\d{2}?\)?[\s]?\d{3}[\s|-]?\d{2}[\s|-]?\d{2}$/.test(a.value)?e(c.ZP.updateUser({phone:a.value})):d.Notify.failure("Is not correct format, must 380xxxxxxxxx!",{timeout:5e3,distance:"100px",opacity:"0.8",useIcon:!1,fontSize:"18px",borderRadius:"20px",showOnlyTheLastOne:!0}):d.Notify.failure("Required!",{timeout:5e3,distance:"100px",opacity:"0.8",useIcon:!1,fontSize:"18px",borderRadius:"20px",showOnlyTheLastOne:!0})},children:(0,p.jsxs)("div",{className:o.Z.field_box,children:[(0,p.jsx)("label",{className:o.Z.userDataForm_label,children:"Phone:"}),W&&"phone"===W?(0,p.jsx)("input",{onChange:Y,type:"tel",name:"phone",value:T,className:o.Z.userDataForm_field_active}):(0,p.jsx)("input",{onChange:Y,type:"tel",name:"phone",value:"+".concat(T),disabled:!0,className:o.Z.userDataForm_field}),(0,p.jsx)("button",{className:o.Z.iconEdit_btn,onClick:function(){return X("phone")},type:"submit",children:W?K("phone"):(0,p.jsx)(i.Z,{id:"icon-edit"})})]})}),(0,p.jsx)("form",{onSubmit:function(t){t.preventDefault();var a=t.currentTarget.elements.city;if(a.disabled)return a.value?/^[aA-zZ]/.test(a.value)?e(c.ZP.updateUser({city:a.value})):d.Notify.failure("Is not correct format, must only letters!",{timeout:5e3,distance:"100px",opacity:"0.8",useIcon:!1,fontSize:"18px",borderRadius:"20px",showOnlyTheLastOne:!0}):d.Notify.failure("Required!",{timeout:5e3,distance:"100px",opacity:"0.8",useIcon:!1,fontSize:"18px",borderRadius:"20px",showOnlyTheLastOne:!0})},children:(0,p.jsxs)("div",{className:o.Z.field_box,children:[(0,p.jsx)("label",{className:o.Z.userDataForm_label,children:"City:"}),W&&"city"===W?(0,p.jsx)("input",{onChange:Y,type:"text",name:"city",value:R,className:o.Z.userDataForm_field_active}):(0,p.jsx)("input",{onChange:Y,type:"text",name:"city",value:R,disabled:!0,className:o.Z.userDataForm_field}),(0,p.jsx)("button",{className:o.Z.iconEdit_btn,onClick:function(){return X("city")},children:W?K("city"):(0,p.jsx)(i.Z,{id:"icon-edit"})})]})})]})})})}l.Z.defaults.baseURL="".concat(x,"/api");function f(){var e=(0,r.v9)((function(e){return e.auth.user})),t=((0,r.v9)((function(e){return e.auth.token})),(0,_.lr)()),a=((0,s.Z)(t,1)[0].get("token"),(0,r.I0)());return(0,p.jsxs)("div",{className:o.Z.userItem_container,children:[(0,p.jsxs)("div",{className:o.Z.userItem_box_yourPhoto,children:[(0,p.jsx)("img",{className:o.Z.userItem__yourPhoto,src:e.avatar?e.avatar:"https://dummyimage.com/150x150/FDF7F2.gif&text=Add+your+photo!",alt:""}),(0,p.jsxs)("div",{className:o.Z.userItem_box_btnPhoto,children:[(0,p.jsx)("input",{className:o.Z.userItem_input_edit_photo,type:"file",name:"file",accept:"image/png, image/jpeg, image/jpg, image/webp",id:"file",onChange:function(e){var t=new FileReader,n=e.target.files[0];(null===n||void 0===n?void 0:n.size)>5242880?d.Notify.warning("File is too big, please download max 5 mb!",{timeout:5e3,distance:"100px",opacity:"0.8",useIcon:!1,fontSize:"18px",borderRadius:"20px",showOnlyTheLastOne:!0}):(t.onloadend=function(){a(c.ZP.updateUserAvatar(n))},t.readAsDataURL(n))}}),(0,p.jsxs)("label",{htmlFor:"file",className:o.Z.userItem_edit_photo,children:[(0,p.jsx)(i.Z,{id:"icon-edit-avatar"}),"Edit photo"]})]})]}),(0,p.jsx)(h,{})]})}function b(){return(0,p.jsx)(f,{})}l.Z.defaults.baseURL="".concat("https://backend-team-project-pet-support.onrender.com","/api");var v="logout_logout_button__+D532",g="logout_logout_box__J-pf9",j="logout_logout_text__M3+5u";function y(){var e=(0,r.I0)();return(0,p.jsx)("div",{className:g,children:(0,p.jsxs)("button",{className:v,onClick:function(){e(c.ZP.logout())},children:[(0,p.jsx)(i.Z,{id:"icon-logout"}),(0,p.jsx)("p",{className:j,children:"Logout"})]})})}var Z=a(3205),N=a(543),D=a(6107),w=a(5861),F=a(4687),k=a.n(F),C="modal-add-pet-pages_button__primary_not_main__ypj+S",S="modal-add-pet-pages_button__primary_main__6UTLB",P="modal-add-pet-pages_modalAdds_page__kFD-P",L="modal-add-pet-pages_modalAdds_page__close__-OWMm",T="modal-add-pet-pages_modalAdds_page__tittle__4VovM",I="modal-add-pet-pages_modalAdds_page__input__tw8e9",E="modal-add-pet-pages_modalAdds_page__label__XtbYI",A="modal-add-pet-pages_modalAdds_page__button__7tqZx",R="modal-add-pet-pages_addspet__imgInput__4dH5p",z="modal-add-pet-pages_addspet__imgLabel__qsG+d",O="modal-add-pet-pages_add__pet__container__xobGG",M="modal-add-pet-pages_addspetPhoto__container__ddf3R",B="modal-add-pet-pages_addspet__photo__D4mvs",U="modal-add-pet-pages_modalAdds_page__field__aCNSS",q="modal-add-pet-pages_modalAdds_page_box__K2BZF",Y="modal-add-pet-pages_modalAdds_commit_box__W6XU2",V="modal-add-pet-pages_modalAdds_commit__DKD3W",G="modal-add-pet-pages_addPet__button__RnKuE";l.Z.defaults.baseURL="".concat("https://backend-team-project-pet-support.onrender.com","/api");var W=function(e){var t=e.close,a=e._id,o=(0,n.useState)(!0),c=(0,s.Z)(o,2),m=c[0],_=c[1],x=(0,r.v9)((function(e){return e.user.loading})),h=(0,r.v9)((function(e){return e.user.pets})).find((function(e){return e._id===a})),f=h.birthday,b=new Date(f),v=b.getMonth()+1,g=b.getDate(),j=b.getFullYear(),y="".concat(v,".").concat(g,".").concat(j),Z=(0,n.useState)(h.name),N=(0,s.Z)(Z,2),F=N[0],W=N[1],H=(0,n.useState)(y),X=(0,s.Z)(H,2),K=X[0],J=X[1],Q=(0,n.useState)(h.breed),$=(0,s.Z)(Q,2),ee=$[0],te=$[1],ae=(0,n.useState)(h.image),ne=(0,s.Z)(ae,2),se=ne[0],oe=ne[1],ie=(0,n.useState)(h.comments),re=(0,s.Z)(ie,2),ce=re[0],le=re[1],de=(0,n.useState)(!1),ue=(0,s.Z)(de,2),me=ue[0],_e=ue[1],pe=function(e){switch(e.currentTarget.name){case"name":W(e.currentTarget.value);break;case"date":J(e.currentTarget.value);break;case"breed":te(e.currentTarget.value);break;default:return}},xe=function(){return _(!m)},he=new Date,fe=function(e){var t=new Date(e);return"".concat(t.getMonth()+1<10?"0".concat(t.getMonth()+1):t.getMonth()+1,".").concat(t.getDate()<10?"0".concat(t.getDate()):t.getDate(),".").concat(t.getFullYear())},be=function(){var e=(0,w.Z)(k().mark((function e(n){var s,o,i,r,c;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),s=n.currentTarget,o=s.elements,i=o.image,r=o.comments,le(r.value),!(i.files.length>0)){e.next=22;break}return(c=new FormData).append("name",F),c.append("birthday",K),c.append("breed",ee),c.append("comments",ce),c.append("image",i.files[0]),e.prev=11,e.next=14,l.Z.put("/users/".concat(a),c);case 14:_e(!1),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(11),_e(!1);case 20:e.next=32;break;case 22:return e.prev=22,e.next=25,l.Z.put("/users/".concat(a),{name:F,birthday:K,breed:ee,comments:ce});case 25:console.log("imageURL",se),_e(!1),e.next=32;break;case 29:e.prev=29,e.t1=e.catch(22),_e(!1);case 32:return le(""),te(""),J(""),W(""),oe(null),s.reset(),e.abrupt("return",t());case 39:case"end":return e.stop()}}),e,null,[[11,17],[22,29]])})));return function(t){return e.apply(this,arguments)}}();return(0,p.jsxs)(p.Fragment,{children:[x&&(0,p.jsx)(D.Z,{}),(0,p.jsxs)("div",{className:P,children:[(0,p.jsx)("div",{className:L,onClick:t,children:(0,p.jsx)(i.Z,{id:"icon-close"})}),(0,p.jsx)("h3",{className:T,children:"Edite pet"}),m&&(0,p.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=e.currentTarget.elements,a=t.name,n=t.date,s=t.breed;return W(a.value),J(n.value),te(s.value),new Date(K)>=new Date(fe)?d.Notify.failure("Please choose a date no later than today!",{distance:"100px",opacity:"0.8",useIcon:!1,fontSize:"18px",borderRadius:"20px",showOnlyTheLastOne:!0}):xe()},children:[(0,p.jsx)("label",{className:"".concat(E," ").concat(q),children:"Name pet"}),(0,p.jsx)("input",{className:I,name:"name",placeholder:"Type name pet",type:"text",value:F,onChange:pe}),(0,p.jsx)("label",{className:"".concat(E," ").concat(q),children:"Date of birth"}),(0,p.jsx)(u.Z,{className:I,name:"date",type:"text",placeholder:"Type date of birth",value:K,options:{dateFormat:"m.d.Y",maxDate:"".concat(fe(he))},onChange:function(e){var t=(0,s.Z)(e,1)[0];J(fe(t))}}),(0,p.jsx)("label",{className:"".concat(E," ").concat(q),children:"Breed"}),(0,p.jsx)("input",{className:I,type:"text",name:"breed",placeholder:"Type breed",value:ee,onChange:pe}),(0,p.jsxs)("div",{className:G,children:[(0,p.jsx)("button",{className:"".concat(S," ").concat(A),type:"submit",children:"Next"}),(0,p.jsx)("span",{className:"".concat(C," ").concat(A),onClick:t,children:"Cancel"})]})]}),!m&&(0,p.jsx)("form",{action:"",id:"book-add-form",encType:"multipart/form-data",onSubmit:be,children:(0,p.jsxs)("div",{className:O,children:[(0,p.jsx)("p",{className:U,children:"Add photo and some comments"}),(0,p.jsx)("input",{className:R,type:"file",name:"image",accept:"image/png, image/jpeg, image/jpg, image/webp",id:"img",title:"is required",multiple:!0,onChange:function(e){var t=new FileReader,a=e.target.files[0];if((null===a||void 0===a?void 0:a.size)>5242880)return d.Notify.warning("File is too big, please download max 5 mb!",{timeout:6e3,distance:"100px",opacity:"0.8",useIcon:!1,fontSize:"18px",borderRadius:"20px",showOnlyTheLastOne:!0}),void oe(null);t.onloadend=function(){oe(t.result)},t.readAsDataURL(a)}}),(0,p.jsx)("label",{className:z,htmlFor:"img",children:(0,p.jsx)("div",{className:M,children:(0,p.jsx)("img",{src:se,alt:"pet",className:B})})}),(0,p.jsx)("label",{className:"".concat(E," ").concat(Y),children:"Comments"}),(0,p.jsx)("textarea",{className:V,type:"text",name:"comments",placeholder:"Type comments",defaultValue:ce,minLength:8}),(0,p.jsxs)("div",{className:G,children:[(0,p.jsx)("button",{className:"".concat(S," ").concat(A),type:"submit",disabled:me,children:"Done"}),(0,p.jsx)("span",{className:"".concat(C," ").concat(A),onClick:xe,children:"Back"})]})]})})]})]})},H="modaladdspet_modal__-styr",X="modaladdspet_modal__section__Su0Hj",K=a(4164),J=document.querySelector("#modal-root"),Q=function(e){var t=e.onClose,a=e.children;(0,n.useEffect)((function(){var e=function(e){"Escape"===e.code&&t()};return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}}),[t]);return a=n.cloneElement(a,{close:t}),(0,K.createPortal)((0,p.jsx)("div",{className:H,onClick:function(e){e.currentTarget===e.target&&t()},children:(0,p.jsx)("div",{className:X,children:a})}),J)},$=a(1328);function ee(){var e=(0,r.I0)(),t=(0,n.useState)(!1),a=(0,s.Z)(t,2),o=a[0],c=a[1],l=(0,n.useState)(null),d=(0,s.Z)(l,2),u=d[0],m=d[1],_=(0,n.useState)(null),x=(0,s.Z)(_,2),h=x[0],f=x[1],b=(0,n.useState)(null),v=(0,s.Z)(b,2),g=v[0],j=v[1],y=(0,r.v9)((function(e){return e.user.loading}));(0,n.useEffect)((function(){e(N.Z.getUserPet())}),[e]);var w=(0,r.v9)((function(e){return e.user.pets})),F=function(){c(!1),document.body.style.overflow="visible",e(N.Z.getUserPet())},k=Array.isArray(w)&&w.map((function(t){var a,n=t.name,s=t.birthday,r=t.breed,l=t.image,d=t.comments,_=t._id;return(0,p.jsxs)("li",{className:Z.Z.petsList_box,children:[y&&(0,p.jsx)(D.Z,{}),(0,p.jsx)("img",{className:Z.Z.petsList_photo,src:l,alt:""}),(0,p.jsxs)("div",{className:Z.Z.petsList_text_box,children:[(0,p.jsxs)("p",{className:Z.Z.petsList_field,children:[(0,p.jsx)("span",{className:Z.Z.labelPets,children:"Name:"}),n]}),(0,p.jsxs)("p",{className:Z.Z.petsList_field,children:[(0,p.jsx)("span",{className:Z.Z.labelPets,children:"Date of birth:"}),(a=s,a.slice(0,10).split("-").reverse().join("."))]}),(0,p.jsxs)("p",{className:Z.Z.petsList_field,children:[(0,p.jsx)("span",{className:Z.Z.labelPets,children:"Breed:"}),r," "]}),(0,p.jsxs)("p",{className:Z.Z.petsList_field,children:[(0,p.jsx)("span",{className:Z.Z.labelPets,children:"Comments:"}),d," "]}),(0,p.jsx)("button",{className:Z.Z.petsList_button,onClick:function(){return function(t){$.Confirm.show("","Are you sure you want to delete your petcard?","Yes","No",(function(){e(N.Z.deletePet(t)).then((function(){e(N.Z.getUserPet())}))}),(function(){}),{messageFontSize:"20px",borderRadius:"8px",cssAnimationStyle:"zoom",okButtonColor:"#ffffff",okButtonBackground:"#eebb9c",cancelButtonColor:"#ffffff",cancelButtonBackground:"#F59256"})}(_)},type:"button",onMouseEnter:function(){return f(_)},onMouseLeave:function(){return f(null)},children:(0,p.jsx)(i.Z,{className:Z.Z.icon_delete,id:_===h?"icon-delete":"icon-deletepet"})}),(0,p.jsx)("button",{className:Z.Z.iconEdit_btn,onClick:function(){j(_),c(!0),document.body.style.overflow="hidden"},onMouseEnter:function(){return m(_)},onMouseLeave:function(){return m(null)},children:(0,p.jsx)(i.Z,{id:_===u?"icon-edit-pet":"icon-edit-pet-active"})}),(0,p.jsx)("div",{children:o&&(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(Q,{onClose:F,children:(0,p.jsx)(W,{_id:g})})})})]})]},_)}));return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)("ol",{className:Z.Z.petList_container,children:k})})}var te=a(1086),ae=function(e){var t=e.close,a=(0,n.useState)(!0),o=(0,s.Z)(a,2),c=o[0],l=o[1],m=(0,n.useState)(""),_=(0,s.Z)(m,2),x=_[0],h=_[1],f=(0,n.useState)(""),b=(0,s.Z)(f,2),v=b[0],g=b[1],j=(0,n.useState)(""),y=(0,s.Z)(j,2),Z=y[0],w=y[1],F=(0,n.useState)(null),k=(0,s.Z)(F,2),W=k[0],H=k[1],X=(0,r.v9)((function(e){return e.user.loading})),K=(0,r.I0)(),J=function(e){switch(e.currentTarget.name){case"name":h(e.currentTarget.value);break;case"breed":w(e.currentTarget.value);break;default:return}},Q=function(){return l(!c)},$=new Date,ee=function(e){var t=new Date(e);return"".concat(t.getMonth()+1<10?"0".concat(t.getMonth()+1):t.getMonth()+1,".").concat(t.getDate()<10?"0".concat(t.getDate()):t.getDate(),".").concat(t.getFullYear())};return(0,p.jsxs)(p.Fragment,{children:[X&&(0,p.jsx)(D.Z,{}),(0,p.jsxs)("div",{className:P,children:[(0,p.jsx)("div",{className:L,onClick:t,children:(0,p.jsx)(i.Z,{id:"icon-close"})}),(0,p.jsx)("h3",{className:T,children:"Add pet"}),c&&(0,p.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=e.currentTarget.elements,a=t.name,n=t.date,s=t.breed;return h(a.value),g(n.value),w(s.value),Q()},children:[(0,p.jsx)("label",{className:"".concat(E," ").concat(q),children:"Name pet"}),(0,p.jsx)("input",{className:I,name:"name",placeholder:"Type name pet",type:"text",required:!0,value:x,onChange:J}),(0,p.jsx)("label",{className:"".concat(E," ").concat(q),children:"Date of birth"}),(0,p.jsx)(u.Z,{className:I,name:"date",type:"text",placeholder:"Type date of birth",required:!0,value:v,options:{dateFormat:"m.d.Y",maxDate:"".concat(ee($))},onChange:function(e){var t=(0,s.Z)(e,1)[0];g(ee(t))}}),(0,p.jsx)("label",{className:"".concat(E," ").concat(q),children:"Breed"}),(0,p.jsx)("input",{className:I,type:"text",name:"breed",placeholder:"Type breed",required:!0,value:Z,onChange:J}),(0,p.jsxs)("div",{className:G,children:[(0,p.jsx)("button",{className:"".concat(S," ").concat(A),type:"submit",children:"Next"}),(0,p.jsx)("span",{className:"".concat(C," ").concat(A),onClick:t,children:"Cancel"})]})]}),!c&&(0,p.jsx)("form",{action:"",id:"book-add-form",encType:"multipart/form-data",onSubmit:function(e){e.preventDefault();var a=e.currentTarget,n=a.elements,s=n.image,o=n.comments,i=new FormData;return i.append("name",x),i.append("birthday",v),i.append("breed",Z),i.append("comments",o.value),i.append("image",s.files[0]),w(""),g(""),h(""),H(null),K(N.Z.addPet(i)),a.reset(),t()},children:(0,p.jsxs)("div",{className:O,children:[(0,p.jsx)("p",{className:U,children:"Add photo and some comments"}),(0,p.jsx)("input",{className:R,type:"file",name:"image",accept:"image/png, image/jpeg, image/jpg, image/webp",id:"img",required:!0,title:"is required",multiple:!0,onChange:function(e){var t=new FileReader,a=e.target.files[0];if((null===a||void 0===a?void 0:a.size)>5242880)return d.Notify.warning("File is too big, please download max 5 mb!",{timeout:6e3,distance:"100px",opacity:"0.8",useIcon:!1,fontSize:"18px",borderRadius:"20px",showOnlyTheLastOne:!0}),void H(null);t.onloadend=function(){H(t.result)},t.readAsDataURL(a)}}),(0,p.jsx)("label",{className:z,htmlFor:"img",children:W&&(0,p.jsx)("div",{className:M,children:(0,p.jsx)("img",{src:W,alt:"pet",className:B})})}),(0,p.jsx)("label",{className:"".concat(E," ").concat(Y),children:"Comments"}),(0,p.jsx)("textarea",{className:V,type:"text",name:"comments",placeholder:"Type comments",minLength:8,required:!0}),(0,p.jsxs)("div",{className:G,children:[(0,p.jsx)("button",{className:"".concat(S," ").concat(A),type:"submit",onClick:function(){W||d.Notify.failure("Please add a photo!",{distance:"100px",opacity:"0.8",useIcon:!1,fontSize:"18px",borderRadius:"20px",showOnlyTheLastOne:!0})},children:"Done"}),(0,p.jsx)("span",{className:"".concat(C," ").concat(A),onClick:Q,children:"Back"})]})]})})]})]})},ne=a(2986);var se=function(){var e=(0,n.useState)(!1),t=(0,s.Z)(e,2),a=t[0],o=t[1],c=(0,r.I0)();(0,n.useEffect)((function(){c(N.Z.getUserPet())}),[c]);var l=(0,r.v9)((function(e){return e.user.pets})),d=(0,r.v9)((function(e){return e.user.loading}));return(0,p.jsxs)(p.Fragment,{children:[d&&(0,p.jsx)(D.Z,{}),(0,p.jsxs)("div",{className:ne.Z.petsData_title_box,children:[(0,p.jsx)("h2",{className:ne.Z.petsData_title,children:"My pets:"}),(0,p.jsx)("div",{className:ne.Z.addPetModal_buttonBox,children:(0,p.jsxs)("button",{className:ne.Z.addPetModal_button,type:"button",onClick:function(){o(!0),document.body.style.overflow="hidden"},children:["Add pet"," ",(0,p.jsx)(i.Z,{className:ne.Z.iconAddPet,id:"icon-add-pet"})]})})]}),(0,p.jsxs)("div",{className:ne.Z.petsData__container,children:[a&&(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(Q,{onClose:function(){o(!1),document.body.style.overflow="visible"},children:(0,p.jsx)(ae,{})})}),(0,p.jsx)("div",{className:ne.Z.overflow,children:0===l.length?(0,p.jsx)(te.X,{text:"You haven`t added any animals to your list yet"}):(0,p.jsx)(ee,{})})]})]})},oe={delete_account_button:"delete-account_delete_account_button__hYzSV",delete_account_box:"delete-account_delete_account_box__Knbbz",delete_icon:"delete-account_delete_icon__si2ko"};function ie(){var e=(0,r.I0)(),t=(0,r.v9)((function(e){return e.auth.token}));return(0,p.jsx)("div",{className:oe.delete_account_box,children:(0,p.jsxs)("button",{className:oe.delete_account_button,onClick:function(){$.Confirm.show("","Are you sure you want to delete your account?","Yes","No",(function(){e(c.ZP.deleteAccount(t)).then((function(){window.location.replace("http://localhost:3000/register")}))}),(function(){}),{messageFontSize:"20px",borderRadius:"8px",cssAnimationStyle:"zoom",okButtonColor:"#ffffff",okButtonBackground:"#eebb9c",cancelButtonColor:"#ffffff",cancelButtonBackground:"#F59256"})},children:[(0,p.jsx)("p",{className:oe.delete_account_text,children:"Delete account"}),(0,p.jsx)(i.Z,{id:"icon-delete"})]})})}l.Z.defaults.baseURL="".concat("https://backend-team-project-pet-support.onrender.com","/api");var re=a(5973),ce=a(5578);var le=function(){return(0,p.jsx)("div",{className:ce.Z.userPage_container,children:(0,p.jsxs)("div",{className:re.Z.container,children:[(0,p.jsxs)("div",{className:ce.Z.userPage_section,children:[(0,p.jsx)("h2",{className:ce.Z.userPage_title,children:"My information:"}),(0,p.jsxs)("div",{className:ce.Z.userData_box,children:[(0,p.jsx)(b,{}),(0,p.jsxs)("div",{className:ce.Z.userData_box_btn,children:[(0,p.jsx)(y,{}),(0,p.jsx)(ie,{})]})]})]}),(0,p.jsx)("div",{className:ce.Z.petsData_section,children:(0,p.jsx)(se,{})})]})})}},2986:function(e,t){t.Z={petsData_section:"pets-data_petsData_section__UieBz",petsData_title_box:"pets-data_petsData_title_box__8HxHW",petsData_title:"pets-data_petsData_title__Qq4C7",addPetModal_buttonBox:"pets-data_addPetModal_buttonBox__HEU95",addPetModal_button:"pets-data_addPetModal_button__qP0Zy",petModal_button:"pets-data_petModal_button__sBu2c",petModal_box_btn:"pets-data_petModal_box_btn__IdO3N",petsData__container:"pets-data_petsData__container__2G1w-",overflow:"pets-data_overflow__Rtx7o"}},3205:function(e,t){t.Z={petsList_box:"pets-list_petsList_box__bIXg+",petsList_photo:"pets-list_petsList_photo__JyEpp",petsList_text_box:"pets-list_petsList_text_box__Vg0+q",labelPets:"pets-list_labelPets__xVmkl",petsList_field:"pets-list_petsList_field__+BhHE",petsList_button:"pets-list_petsList_button__QczPj",iconEdit_btn:"pets-list_iconEdit_btn__tEFOh",petList_container:"pets-list_petList_container__jrBD0",icon_edit:"pets-list_icon_edit__HNwQg"}},5830:function(e,t){t.Z={userItem_container:"user-data-item_userItem_container__neJio",userItem_box_yourPhoto:"user-data-item_userItem_box_yourPhoto__A6dWO",userItem_box_btnPhoto:"user-data-item_userItem_box_btnPhoto__e8bo1",userItem_button:"user-data-item_userItem_button__0Gg6V",userDataForm_box:"user-data-item_userDataForm_box__UwT0M",field_box:"user-data-item_field_box__4xcgt",userDataForm_field:"user-data-item_userDataForm_field__32mZT",userDataForm_field_active:"user-data-item_userDataForm_field_active__CXnHf",userDataForm_field_input:"user-data-item_userDataForm_field_input__1QaxO",iconEdit_btn:"user-data-item_iconEdit_btn__LP-z7",userDataForm_label:"user-data-item_userDataForm_label__oNaKJ",userItem_button_icon:"user-data-item_userItem_button_icon__rwvks",userItem_edit_photo:"user-data-item_userItem_edit_photo__55rGT",userItem_input_edit_photo:"user-data-item_userItem_input_edit_photo__LoxV3",userItem__yourPhoto:"user-data-item_userItem__yourPhoto__Xt9Av",iconEdit_active:"user-data-item_iconEdit_active__6fdvC",iconEdit:"user-data-item_iconEdit__qx3-w",iconEdit_done:"user-data-item_iconEdit_done__EvnCx",loader__content:"user-data-item_loader__content__SyicD",loader_oval:"user-data-item_loader_oval__YNlqW",loader_oval_avatar:"user-data-item_loader_oval_avatar__799eU"}},5578:function(e,t){t.Z={userPage_container:"user-page_userPage_container__PYPVq",userPage_section:"user-page_userPage_section__+jTMM",petsData_section:"user-page_petsData_section__jEW1G",userPage_title:"user-page_userPage_title__bSasD",userData_box:"user-page_userData_box__sKupV",userData_box_btn:"user-page_userData_box_btn__ZDRDR"}}}]);
//# sourceMappingURL=855.e7727f32.chunk.js.map