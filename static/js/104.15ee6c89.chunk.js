"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[104],{682:function(e,a,n){n.d(a,{Z:function(){return P}});var r=n(9439),s={button__primary_not_main:"auth-form_button__primary_not_main__8P-fg",button__primary_main:"auth-form_button__primary_main__MnTkE",button__secondary:"auth-form_button__secondary__KPh8C",button__secondary_active:"auth-form_button__secondary_active__NYsjk",button__learn:"auth-form_button__learn__aF1Az",form__input_container:"auth-form_form__input_container__aA0wO",form__label:"auth-form_form__label__kvu1f",form__input:"auth-form_form__input__PCyqB",form__input_phone:"auth-form_form__input_phone__3+Prq",form__input_number:"auth-form_form__input_number__ad5x5",form__input__password_show:"auth-form_form__input__password_show__m0iHa",error__mesage:"auth-form_error__mesage__60rvQ",form__login__input:"auth-form_form__login__input__goTNO",coordination__box:"auth-form_coordination__box__IaRI-",coordination__box_input:"auth-form_coordination__box_input__45QT5",coordination__box_title:"auth-form_coordination__box_title__Ub9P3",coordination__box_link:"auth-form_coordination__box_link__4TUNL",form__button:"auth-form_form__button__-DMkC",form__back_button:"auth-form_form__back_button__g2+wq",form__description:"auth-form_form__description__SN4bk",description__nav:"auth-form_description__nav__UAxeo",loading__modal:"auth-form_loading__modal__j9v7f"},o=n(9434),i=n(4632),t=n(3220),_="google-nav_googleBox__pLbWW",c="google-nav_googleBox__title__fq7Z0",l="google-nav_linkBox__Z0cDd",m="google-nav_googleDecs__GGIZo",d="google-nav_googleLink__A-F5w",u=n(2600),h=n(3329),p="https://backend-team-project-pet-support.onrender.com",f=function(){var e=(0,o.v9)((function(e){return e.menu.menuActive})),a=(0,o.I0)();return(0,h.jsxs)("div",{className:_,children:[(0,h.jsx)("div",{className:c,children:(0,h.jsx)("p",{className:m,children:"Or sign in with"})}),(0,h.jsx)("div",{className:l,children:!0===e?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("a",{href:"".concat(p,"/api/auth/google"),className:d,onClick:function(){return a((0,u.M)(!e))},children:(0,h.jsx)(t.Z,{id:"icon-google"})}),(0,h.jsx)("a",{href:"".concat(p,"/api/auth/facebook"),className:d,onClick:function(){return a((0,u.M)(!e))},children:(0,h.jsx)(t.Z,{id:"facebook"})})]}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("a",{href:"".concat(p,"/api/auth/google"),className:d,children:(0,h.jsx)(t.Z,{id:"icon-google"})}),(0,h.jsx)("a",{href:"".concat(p,"/api/auth/facebook"),className:d,onClick:function(){return a((0,u.M)(!e))},children:(0,h.jsx)(t.Z,{id:"facebook"})})]})})]})},x=n(5705),j=n(6107),g=n(2797),b=n(2791),N=n(5264),v=n(1087),w=n(7689),y=n(9773),k=g.Ry().shape({email:g.Z_().email().min(10,"The minimum number of characters in the field is 10.").max(63,"The maximum number of characters in the field is 63."),password:g.Z_().required().min(7).max(32),passwordConfirm:g.Z_().required()});function Z(e){var a;return e?e.includes(" ")&&(a="Invalid password, must not include spaces"):a="Password is required",a}function C(e){var a;return e?/^((([0-9A-Za-z]{1}[-0-9A-z]{1,}[0-9A-Za-z]{1}))@([-0-9A-Za-z]{1,}\.){1,2}[-A-Za-z]{2,})$/i.test(e)||(a='The e-mail address is not correct, there must be at least 2 characters before the "@" symbol, the hyphen cannot be at the beginning, and the e-mail cannot contain Latin letters'):a="E-mail address required",a}var q=g.Ry().shape({name:g.Z_().required("Name is required!"),region:g.Z_().required("Region is required!"),number:g.Z_().matches(/[0-9]/,"Field must contain only numbers, format +380xxxxxxxxx!").required("Phone number is required!").min(9,"Cannot be less than nine characters!").max(9,"Cannot be more than nine characters!")}),B=g.Ry().shape({email:g.Z_().email().required().min(10).max(63),password:g.Z_().required().min(7).max(32)}),P=function(){var e=(0,b.useState)(!0),a=(0,r.Z)(e,2),n=a[0],_=a[1],c=(0,b.useState)(!1),l=(0,r.Z)(c,2),m=l[0],d=l[1],u=(0,b.useState)(!1),p=(0,r.Z)(u,2),g=p[0],P=p[1],S=(0,b.useState)(!1),F=(0,r.Z)(S,2),A=F[0],L=F[1],R=(0,b.useState)(""),T=(0,r.Z)(R,2),O=T[0],V=T[1],z=(0,b.useState)(""),I=(0,r.Z)(z,2),M=I[0],D=I[1],E=(0,w.TH)().pathname,G=function(e){switch(e.target.name){case"password":V(e.target.value);break;case"passwordConfirm":D(e.target.value);break;case"coordination":L(e.target.checked);break;default:return}},U=(0,o.v9)((function(e){return e.auth.loading})),J=(0,o.I0)(),H={email:"",password:"",passwordConfirm:"",name:"",region:"",number:""},K=function(e,a){if(n)return e.password!==e.passwordConfirm?N.Notify.failure("Your passwords must have the same value!",{timeout:6e3}):_(!1);if(!n){if(!y.find((function(a){return"".concat(a.city,", ").concat(a.admin_name)===e.region})))return console.log("not"),N.Notify.failure("Please select a region from the list!",{timeout:6e3});var r={email:e.email,password:e.password,name:e.name,city:e.region,phone:"380".concat(e.number)};return a.resetForm(),_(!0),console.log(r),J(i.ZP.registerNewUser(r))}},Q=function(){return d(!m)};return(0,h.jsxs)(h.Fragment,{children:[U&&(0,h.jsx)(j.Z,{}),"/register"===E&&(0,h.jsxs)(h.Fragment,{children:[n?(0,h.jsx)(x.J9,{validationSchema:k,initialValues:H,onSubmit:K,children:(0,h.jsxs)(x.l0,{className:s.form__container,autoComplete:"off",onChange:G,children:[(0,h.jsxs)("div",{className:s.form__input_container,children:[(0,h.jsx)(x.gN,{className:s.form__input,type:"email",name:"email",validate:C,placeholder:" "}),(0,h.jsx)("label",{className:s.form__label,children:"Email"}),(0,h.jsx)(x.Bc,{name:"email",render:function(e){return(0,h.jsx)("p",{className:s.error__mesage,children:e})}})]}),(0,h.jsxs)("div",{className:s.form__input_container,children:[(0,h.jsx)(x.gN,{className:s.form__input,type:m?"text":"password",name:"password",validate:Z,placeholder:" "}),(0,h.jsx)("label",{className:s.form__label,children:"Password"}),O.length>=1&&(0,h.jsx)("span",{className:s.form__input__password_show,onClick:Q,children:m?(0,h.jsx)(t.Z,{id:"eye-blocked"}):(0,h.jsx)(t.Z,{id:"eye"})}),(0,h.jsx)(x.Bc,{name:"password",render:function(e){return(0,h.jsx)("p",{className:s.error__mesage,children:e})}})]}),(0,h.jsxs)("div",{className:s.form__input_container,children:[(0,h.jsx)(x.gN,{className:s.form__input,type:g?"text":"password",name:"passwordConfirm",placeholder:" ",validate:Z}),(0,h.jsx)("label",{className:s.form__label,children:"Confirm Password"}),M.length>=1&&(0,h.jsx)("span",{className:s.form__input__password_show,onClick:function(){return P(!g)},children:g?(0,h.jsx)(t.Z,{id:"eye-blocked"}):(0,h.jsx)(t.Z,{id:"eye"})}),(0,h.jsx)(x.Bc,{name:"passwordConfirm",render:function(e){return(0,h.jsx)("p",{className:s.error__mesage,children:e})}})]}),(0,h.jsxs)("div",{className:s.coordination__box,children:[(0,h.jsx)(x.gN,{className:s.coordination__box_input,type:"checkbox",name:"coordination"}),(0,h.jsxs)("label",{className:s.coordination__box_title,children:["\u041f\u043e\u0433\u043e\u0434\u0436\u0443\u044e\u0441\u044c \u0437 ",(0,h.jsx)("a",{href:"https://www.google.com.ua/",className:s.coordination__box_link,target:"_blank",rel:"noopener noreferrer",children:"\u043f\u0440\u0430\u0432\u0438\u043b\u0430\u043c\u0438 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u043d\u043d\u044f \u0441\u0430\u0439\u0442\u0443"})]})]}),(0,h.jsx)("button",{className:"".concat(s.button__primary_main," ").concat(s.form__button),type:"submit",disabled:!A,children:"Next"}),(0,h.jsx)(f,{})]})}):(0,h.jsx)(x.J9,{validationSchema:q,initialValues:H,onSubmit:K,autoComplete:"off",children:(0,h.jsxs)(x.l0,{className:s.form__container,children:[(0,h.jsxs)("div",{className:s.form__input_container,children:[(0,h.jsx)(x.gN,{className:s.form__input,type:"text",name:"name",placeholder:" ",required:!0}),(0,h.jsx)("label",{className:s.form__label,children:"Name"}),(0,h.jsx)(x.Bc,{name:"name",render:function(e){return(0,h.jsx)("p",{className:s.error__mesage,children:e})}})]}),(0,h.jsxs)("div",{className:s.form__input_container,children:[(0,h.jsx)(x.gN,{className:s.form__input,name:"region",list:"region",type:"text",placeholder:" "}),(0,h.jsx)("datalist",{id:"region",children:y.map((function(e){return(0,h.jsxs)("option",{children:[e.city,", ",e.admin_name]},"".concat(e.city,".").concat(e.lat))}))}),(0,h.jsx)("label",{className:s.form__label,children:"City, region"}),(0,h.jsx)(x.Bc,{name:"region",render:function(e){return(0,h.jsx)("p",{className:s.error__mesage,children:e})}})]}),(0,h.jsxs)("div",{className:s.form__input_container,children:[(0,h.jsx)(x.gN,{className:"".concat(s.form__input," ").concat(s.form__input_phone),type:"tel",name:"number",placeholder:" "}),(0,h.jsxs)("span",{className:s.form__input_number,children:[(0,h.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"20",children:[(0,h.jsx)("rect",{width:"25",height:"10",fill:"#005BBB"}),(0,h.jsx)("rect",{width:"25",height:"10",y:"10",fill:"#FFD500"})]}),(0,h.jsx)("p",{children:"+380"})]}),(0,h.jsx)("label",{className:s.form__label,children:"Mobile phone"}),(0,h.jsx)(x.Bc,{name:"number",render:function(e){return(0,h.jsx)("p",{className:s.error__mesage,children:e})}})]}),(0,h.jsx)("span",{className:"".concat(s.button__primary_not_main," ").concat(s.form__back_button),onClick:function(){if(!n)return _(!0)},children:"\u140a Go back"}),(0,h.jsx)("button",{className:"".concat(s.button__primary_main," ").concat(s.form__button),type:"submit",children:"Register"}),(0,h.jsx)(f,{})]})}),(0,h.jsxs)("p",{className:s.form__description,children:["Already have an account?"," ",(0,h.jsx)(v.OL,{className:s.description__nav,to:"/login",children:"Login"})]})]}),"/login"===E&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(x.J9,{validationSchema:B,initialValues:H,onSubmit:function(e,a){var n,r={email:e.email,password:e.password};return a.resetForm(),n=r,void J(i.ZP.login(n))},children:(0,h.jsxs)(x.l0,{className:s.form__container,autoComplete:"off",onChange:G,children:[(0,h.jsxs)("div",{className:s.form__input_container,children:[(0,h.jsx)(x.gN,{className:s.form__input,type:"email",name:"email",placeholder:" "}),(0,h.jsx)("label",{className:s.form__label,children:"Email"}),(0,h.jsx)(x.Bc,{name:"email",render:function(e){return(0,h.jsx)("p",{className:s.error__mesage,children:e})}})]}),(0,h.jsxs)("div",{className:s.form__input_container,children:[(0,h.jsx)(x.gN,{className:"".concat(s.form__input," ").concat(s.form__login__input),type:m?"text":"password",name:"password",placeholder:" ",validate:Z}),(0,h.jsx)("label",{className:s.form__label,children:"Password"}),O.length>=1&&(0,h.jsx)("span",{className:s.form__input__password_show,onClick:Q,children:m?(0,h.jsx)(t.Z,{id:"eye-blocked"}):(0,h.jsx)(t.Z,{id:"eye"})}),(0,h.jsx)(x.Bc,{name:"password",render:function(e){return(0,h.jsx)("p",{className:s.error__mesage,children:e})}})]}),(0,h.jsx)("button",{className:"".concat(s.button__primary_main," ").concat(s.form__button),type:"submit",children:"Login"}),(0,h.jsxs)("p",{className:s.form__description,children:["Resend verification email? Click"," ",(0,h.jsx)(v.OL,{to:"/verify",className:s.description__nav,children:"here"})]}),(0,h.jsx)(f,{})]})}),(0,h.jsxs)("p",{className:s.form__description,children:["Don't have an account?"," ",(0,h.jsx)(v.OL,{to:"/register",className:s.description__nav,children:"Register"})]})]}),"/verify"===E&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(x.J9,{validationSchema:B,initialValues:H,onSubmit:function(e,a){var n={email:e.email,password:e.password};return a.resetForm(),J(i.ZP.authVerify(n))},children:(0,h.jsxs)(x.l0,{className:s.form__container,autoComplete:"off",onChange:G,children:[(0,h.jsxs)("div",{className:s.form__input_container,children:[(0,h.jsx)(x.gN,{className:s.form__input,type:"email",name:"email",placeholder:" "}),(0,h.jsx)("label",{className:s.form__label,children:"Email"}),(0,h.jsx)(x.Bc,{name:"email",render:function(e){return(0,h.jsx)("p",{className:s.error__mesage,children:e})}})]}),(0,h.jsxs)("div",{className:s.form__input_container,children:[(0,h.jsx)(x.gN,{className:"".concat(s.form__input," ").concat(s.form__login__input),type:"password",name:"password",placeholder:" ",validate:Z}),(0,h.jsx)("label",{className:s.form__label,children:"Password"}),O.length>=1&&(0,h.jsx)("span",{className:s.form__input__password_show,onClick:Q,children:m?(0,h.jsx)(t.Z,{id:"eye-blocked"}):(0,h.jsx)(t.Z,{id:"eye"})}),(0,h.jsx)(x.Bc,{name:"password",render:function(e){return(0,h.jsx)("p",{className:s.error__mesage,children:e})}})]}),(0,h.jsx)("button",{className:"".concat(s.button__primary_main," ").concat(s.form__button),type:"submit",children:"Verify"})]})}),(0,h.jsxs)("p",{className:s.form__description,children:["Go to back?"," ",(0,h.jsx)(v.OL,{to:"/login",className:s.description__nav,children:"Login"})]})]})]})}},1390:function(e,a,n){n.r(a),n.d(a,{default:function(){return c}});var r="register-page_register__container__sKcrr",s="register-page_register__tittle__GreyV",o="register-page_register__section__buUwc",i=n(5973),t=n(682),_=n(3329),c=function(){return(0,_.jsx)("section",{className:r,children:(0,_.jsx)("div",{className:i.Z.container,children:(0,_.jsxs)("div",{className:o,children:[(0,_.jsx)("h1",{className:s,children:"Registration"}),(0,_.jsx)(t.Z,{})]})})})}}}]);
//# sourceMappingURL=104.15ee6c89.chunk.js.map